<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" width="1200" height="900">
  <defs>
    <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0284c7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="tealGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#42b883;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#35495e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="orangeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="purpleGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#a855f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="blueGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="greenGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
    </linearGradient>

    <marker id="arrowSky" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#0ea5e9"/>
    </marker>
    <marker id="arrowTeal" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#42b883"/>
    </marker>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#f97316"/>
    </marker>
    <marker id="arrowPurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#a855f7"/>
    </marker>
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3b82f6"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#22c55e"/>
    </marker>
  </defs>

  <style>
    .flow-line-sky { stroke-dasharray: 8, 4; animation: dash-flow-sky 0.5s linear infinite; }
    .flow-line-teal { stroke-dasharray: 8, 4; animation: dash-flow-teal 0.5s linear infinite; }
    .flow-line-orange { stroke-dasharray: 8, 4; animation: dash-flow-orange 0.5s linear infinite; }
    .flow-line-purple { stroke-dasharray: 8, 4; animation: dash-flow-purple 0.5s linear infinite; }
    .flow-line-blue { stroke-dasharray: 8, 4; animation: dash-flow-blue 0.5s linear infinite; }
    .flow-line-green { stroke-dasharray: 8, 4; animation: dash-flow-green 0.5s linear infinite; }
    @keyframes dash-flow-sky { to { stroke-dashoffset: -12; } }
    @keyframes dash-flow-teal { to { stroke-dashoffset: -12; } }
    @keyframes dash-flow-orange { to { stroke-dashoffset: -12; } }
    @keyframes dash-flow-purple { to { stroke-dashoffset: -12; } }
    @keyframes dash-flow-blue { to { stroke-dashoffset: -12; } }
    @keyframes dash-flow-green { to { stroke-dashoffset: -12; } }
  </style>

  <!-- White background -->
  <rect width="1200" height="900" fill="#ffffff"/>

  <!-- Grid background -->
  <g opacity="0.08">
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#94a3b8" stroke-width="0.5"/>
    </pattern>
    <rect width="1200" height="900" fill="url(#grid)"/>
  </g>

  <!-- ==================== TITLE ==================== -->
  <text x="600" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#1e293b">Flowable Vue Designer - System Architecture</text>
  <text x="600" y="58" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#64748b">BPMN 2.0 流程建模工具 | Vue 3 + bpmn-js + Vite 7 | Composition API | Flowable Engine</text>

  <!-- ==================== USER INTERACTION LAYER ==================== -->
  <g transform="translate(40, 90)">
    <rect x="0" y="0" width="200" height="160" rx="12" fill="#f0f9ff" stroke="#0ea5e9" stroke-width="2"/>
    <rect x="0" y="0" width="200" height="35" rx="12" fill="url(#skyGradient)"/>
    <text x="100" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff">User Interaction Layer</text>

    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="78" height="48" rx="6" fill="#ffffff" stroke="#bae6fd" stroke-width="1"/>
      <text x="39" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#0ea5e9">Browser</text>
      <text x="39" y="33" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">浏览器访问</text>

      <rect x="90" y="0" width="78" height="48" rx="6" fill="#ffffff" stroke="#bae6fd" stroke-width="1"/>
      <text x="129" y="18" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#0ea5e9">File I/O</text>
      <text x="129" y="33" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">文件导入导出</text>
    </g>

    <g transform="translate(15, 103)">
      <rect x="0" y="0" width="170" height="40" rx="6" fill="#ffffff" stroke="#bae6fd" stroke-width="1"/>
      <text x="85" y="17" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#0ea5e9">Drag &amp; Drop / Click / Keyboard</text>
      <text x="85" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">拖拽建模 / 快捷键操作</text>
    </g>
  </g>

  <!-- ==================== VUE 3 CORE ==================== -->
  <g transform="translate(290, 90)">
    <rect x="0" y="0" width="280" height="200" rx="12" fill="#f0fdf4" stroke="#42b883" stroke-width="2"/>
    <rect x="0" y="0" width="280" height="35" rx="12" fill="url(#tealGradient)"/>
    <text x="140" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff">Vue 3 Application Core</text>

    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#42b883">main.js</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Application Entry</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">应用入口</text>

      <rect x="130" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="187" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#42b883">App.vue</text>
      <text x="187" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Root Component</text>
      <text x="187" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">根组件 + RouterView</text>
    </g>

    <g transform="translate(15, 110)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#42b883">router/</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Vue Router 4</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">路由配置</text>

      <rect x="130" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="187" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#42b883">DesignerView</text>
      <text x="187" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Async + Suspense</text>
      <text x="187" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">异步懒加载视图</text>
    </g>
  </g>

  <!-- ==================== BPMN MODELING ENGINE ==================== -->
  <g transform="translate(620, 90)">
    <rect x="0" y="0" width="280" height="260" rx="12" fill="#fff7ed" stroke="#f97316" stroke-width="2"/>
    <rect x="0" y="0" width="280" height="35" rx="12" fill="url(#orangeGradient)"/>
    <text x="140" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff">BPMN Modeling Engine</text>

    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="250" height="55" rx="6" fill="#ffffff" stroke="#fed7aa" stroke-width="1"/>
      <text x="125" y="20" text-anchor="middle" font-family="monospace" font-size="11" fill="#f97316">BpmnModeler.vue</text>
      <text x="125" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Core Modeler Component (1000+ lines)</text>
      <text x="125" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">画布渲染 / XML导入导出 / 状态管理</text>
    </g>

    <g transform="translate(15, 110)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#fed7aa" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#f97316">bpmn-js 18</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Canvas Renderer</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">BPMN 2.0 画布</text>

      <rect x="130" y="0" width="120" height="55" rx="6" fill="#ffffff" stroke="#fed7aa" stroke-width="1"/>
      <text x="190" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#f97316">properties-panel</text>
      <text x="190" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Element Properties</text>
      <text x="190" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">属性编辑面板</text>
    </g>

    <g transform="translate(15, 175)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#fed7aa" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#f97316">custom/</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Palette + ContextPad</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">自定义工具栏</text>

      <rect x="130" y="0" width="120" height="55" rx="6" fill="#ffffff" stroke="#fed7aa" stroke-width="1"/>
      <text x="190" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#f97316">translate/zh</text>
      <text x="190" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">i18n Chinese</text>
      <text x="190" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">中文国际化</text>
    </g>
  </g>

  <!-- ==================== DIALOG COMPONENTS ==================== -->
  <g transform="translate(950, 90)">
    <rect x="0" y="0" width="210" height="260" rx="12" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
    <rect x="0" y="0" width="210" height="35" rx="12" fill="url(#greenGradient)"/>
    <text x="105" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff">Dialog Components</text>

    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="180" height="48" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="90" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="#22c55e">ModelSaveDialog</text>
      <text x="90" y="33" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Save / Update Model</text>
      <text x="90" y="43" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">模型保存 (name/key/desc)</text>
    </g>

    <g transform="translate(15, 103)">
      <rect x="0" y="0" width="180" height="48" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="90" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="#22c55e">ModelOpenDialog</text>
      <text x="90" y="33" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">List / Load / Delete</text>
      <text x="90" y="43" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">模型列表与加载</text>
    </g>

    <g transform="translate(15, 161)">
      <rect x="0" y="0" width="180" height="48" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="90" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="#22c55e">DeployDialog</text>
      <text x="90" y="33" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Deploy to Flowable</text>
      <text x="90" y="43" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">流程部署到引擎</text>
    </g>

    <g transform="translate(15, 219)">
      <rect x="0" y="0" width="180" height="28" rx="6" fill="#ffffff" stroke="#86efac" stroke-width="1"/>
      <text x="90" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="#22c55e">FormDataEditor</text>
    </g>
  </g>

  <!-- ==================== API LAYER ==================== -->
  <g transform="translate(40, 390)">
    <rect x="0" y="0" width="530" height="180" rx="12" fill="#faf5ff" stroke="#a855f7" stroke-width="2"/>
    <rect x="0" y="0" width="530" height="35" rx="12" fill="url(#purpleGradient)"/>
    <text x="265" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff">API Interface Layer - api/flowable.js</text>

    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#e9d5ff" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#a855f7">deploymentApi</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">POST /deployments</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">FormData 部署</text>
    </g>

    <g transform="translate(145, 45)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#e9d5ff" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#a855f7">modelApi</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">CRUD /api/models</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">模型增删改查</text>
    </g>

    <g transform="translate(275, 45)">
      <rect x="0" y="0" width="115" height="55" rx="6" fill="#ffffff" stroke="#e9d5ff" stroke-width="1"/>
      <text x="57" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#a855f7">processApi</text>
      <text x="57" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">POST /processes</text>
      <text x="57" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">流程启动</text>
    </g>

    <g transform="translate(405, 45)">
      <rect x="0" y="0" width="110" height="55" rx="6" fill="#ffffff" stroke="#e9d5ff" stroke-width="1"/>
      <text x="55" y="20" text-anchor="middle" font-family="monospace" font-size="10" fill="#a855f7">taskApi</text>
      <text x="55" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">GET/POST /tasks</text>
      <text x="55" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">任务查询完成</text>
    </g>

    <g transform="translate(15, 115)">
      <rect x="0" y="0" width="500" height="48" rx="6" fill="#ffffff" stroke="#e9d5ff" stroke-width="1"/>
      <text x="250" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="#a855f7">Unified Request Wrapper - fetch() + Error Handling</text>
      <text x="250" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Base URL: VITE_API_BASE_URL (default: http://localhost:8080) | JSON Content-Type | 统一错误处理</text>
    </g>
  </g>

  <!-- ==================== BACKEND / STORAGE ==================== -->
  <g transform="translate(620, 390)">
    <rect x="0" y="0" width="540" height="180" rx="12" fill="#eff6ff" stroke="#3b82f6" stroke-width="2"/>
    <rect x="0" y="0" width="540" height="35" rx="12" fill="url(#blueGradient)"/>
    <text x="270" y="24" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff">Backend &amp; Storage Layer</text>

    <g transform="translate(15, 45)">
      <rect x="0" y="0" width="160" height="55" rx="6" fill="#ffffff" stroke="#93c5fd" stroke-width="1"/>
      <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#3b82f6">Flowable Engine</text>
      <text x="80" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">BPMN Runtime</text>
      <text x="80" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">流程引擎 / REST API</text>
    </g>

    <g transform="translate(190, 45)">
      <rect x="0" y="0" width="160" height="55" rx="6" fill="#ffffff" stroke="#93c5fd" stroke-width="1"/>
      <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#3b82f6">Database</text>
      <text x="80" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">MySQL / PostgreSQL</text>
      <text x="80" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">模型 / 流程 / 任务数据</text>
    </g>

    <g transform="translate(365, 45)">
      <rect x="0" y="0" width="160" height="55" rx="6" fill="#ffffff" stroke="#93c5fd" stroke-width="1"/>
      <text x="80" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#3b82f6">File Export</text>
      <text x="80" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">.bpmn XML / .svg</text>
      <text x="80" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">本地文件导出</text>
    </g>

    <g transform="translate(15, 115)">
      <rect x="0" y="0" width="510" height="48" rx="6" fill="#ffffff" stroke="#93c5fd" stroke-width="1"/>
      <text x="255" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="#3b82f6">Build: Vite 7.3 + Terser + Gzip/Brotli Compression + Bundle Analyzer</text>
      <text x="255" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Node.js ^20.19 || >=22.12 | Code Splitting | Async Component Loading | Performance Optimization</text>
    </g>
  </g>

  <!-- ==================== FLOW LINES ==================== -->

  <!-- User Layer → Vue Core -->
  <path d="M240 170 L290 170" stroke="#bae6fd" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M240 170 L290 170" class="flow-line-sky" stroke="#0ea5e9" stroke-width="3" fill="none" marker-end="url(#arrowSky)" stroke-linecap="round"/>
  <text x="265" y="162" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#0ea5e9">Events</text>

  <!-- Vue Core → BPMN Engine -->
  <path d="M570 190 L620 190" stroke="#86efac" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M570 190 L620 190" class="flow-line-teal" stroke="#42b883" stroke-width="3" fill="none" marker-end="url(#arrowTeal)" stroke-linecap="round"/>
  <text x="595" y="182" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#42b883">Render</text>

  <!-- BPMN Engine → Dialogs -->
  <path d="M900 200 L950 200" stroke="#fed7aa" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M900 200 L950 200" class="flow-line-orange" stroke="#f97316" stroke-width="3" fill="none" marker-end="url(#arrowOrange)" stroke-linecap="round"/>
  <text x="925" y="192" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#f97316">Open</text>

  <!-- Vue Core → API Layer (vertical) -->
  <path d="M430 290 L430 390" stroke="#e9d5ff" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M430 290 L430 390" class="flow-line-purple" stroke="#a855f7" stroke-width="3" fill="none" marker-end="url(#arrowPurple)" stroke-linecap="round"/>
  <text x="445" y="345" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#a855f7">HTTP</text>

  <!-- BPMN Engine → API Layer (vertical down) -->
  <path d="M760 350 L760 390" stroke="#fed7aa" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M760 350 L760 390" class="flow-line-orange" stroke="#f97316" stroke-width="3" fill="none" marker-end="url(#arrowOrange)" stroke-linecap="round"/>
  <text x="775" y="375" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#f97316">Deploy</text>

  <!-- API Layer → Backend (horizontal) -->
  <path d="M570 480 L620 480" stroke="#e9d5ff" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M570 480 L620 480" class="flow-line-purple" stroke="#a855f7" stroke-width="3" fill="none" marker-end="url(#arrowPurple)" stroke-linecap="round"/>
  <text x="595" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#a855f7">REST</text>

  <!-- Dialogs → Backend (vertical down) -->
  <path d="M1055 350 L1055 390" stroke="#dcfce7" stroke-width="6" fill="none" stroke-linecap="round"/>
  <path d="M1055 350 L1055 390" class="flow-line-green" stroke="#22c55e" stroke-width="3" fill="none" marker-end="url(#arrowGreen)" stroke-linecap="round"/>
  <text x="1075" y="375" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#22c55e">CRUD</text>

  <!-- ==================== FLOW DESCRIPTION ==================== -->
  <g transform="translate(40, 610)">
    <rect x="0" y="0" width="560" height="250" rx="10" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
    <text x="280" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b">Data Flow Description / 数据流程说明</text>

    <g transform="translate(25, 50)">
      <circle cx="8" cy="8" r="8" fill="#0ea5e9"/>
      <text x="8" y="12" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#ffffff">1</text>
      <text x="25" y="12" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">User opens browser, interacts via drag-and-drop / keyboard</text>
    </g>

    <g transform="translate(25, 80)">
      <circle cx="8" cy="8" r="8" fill="#42b883"/>
      <text x="8" y="12" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#ffffff">2</text>
      <text x="25" y="12" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Vue 3 routes to DesignerView, async loads BpmnModeler</text>
    </g>

    <g transform="translate(25, 110)">
      <circle cx="8" cy="8" r="8" fill="#f97316"/>
      <text x="8" y="12" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#ffffff">3</text>
      <text x="25" y="12" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">bpmn-js renders BPMN 2.0 canvas with custom palette &amp; i18n</text>
    </g>

    <g transform="translate(25, 140)">
      <circle cx="8" cy="8" r="8" fill="#22c55e"/>
      <text x="8" y="12" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#ffffff">4</text>
      <text x="25" y="12" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Dialogs handle Save / Open / Deploy with form validation</text>
    </g>

    <g transform="translate(25, 170)">
      <circle cx="8" cy="8" r="8" fill="#a855f7"/>
      <text x="8" y="12" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#ffffff">5</text>
      <text x="25" y="12" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">API layer sends HTTP requests (fetch) to backend endpoints</text>
    </g>

    <g transform="translate(25, 200)">
      <circle cx="8" cy="8" r="8" fill="#3b82f6"/>
      <text x="8" y="12" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#ffffff">6</text>
      <text x="25" y="12" font-family="Arial, sans-serif" font-size="12" fill="#1e293b">Flowable Engine persists to DB, or exports .bpmn / .svg locally</text>
    </g>
  </g>

  <!-- ==================== LEGEND ==================== -->
  <g transform="translate(640, 610)">
    <rect x="0" y="0" width="520" height="250" rx="10" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>
    <text x="260" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#64748b">LEGEND / 图例</text>

    <!-- Color legend -->
    <g transform="translate(25, 50)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#0ea5e9"/>
      <text x="50" y="15" font-family="Arial, sans-serif" font-size="11" fill="#1e293b">User Layer / 用户交互层</text>
    </g>

    <g transform="translate(270, 50)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#42b883"/>
      <text x="50" y="15" font-family="Arial, sans-serif" font-size="11" fill="#1e293b">Vue 3 Core / 前端应用</text>
    </g>

    <g transform="translate(25, 85)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#f97316"/>
      <text x="50" y="15" font-family="Arial, sans-serif" font-size="11" fill="#1e293b">BPMN Engine / 建模引擎</text>
    </g>

    <g transform="translate(270, 85)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#22c55e"/>
      <text x="50" y="15" font-family="Arial, sans-serif" font-size="11" fill="#1e293b">Dialogs / 对话框组件</text>
    </g>

    <g transform="translate(25, 120)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#a855f7"/>
      <text x="50" y="15" font-family="Arial, sans-serif" font-size="11" fill="#1e293b">API Layer / 接口层</text>
    </g>

    <g transform="translate(270, 120)">
      <rect x="0" y="0" width="40" height="20" rx="4" fill="#3b82f6"/>
      <text x="50" y="15" font-family="Arial, sans-serif" font-size="11" fill="#1e293b">Backend &amp; Storage / 后端存储</text>
    </g>

    <!-- Tech stack summary -->
    <g transform="translate(25, 160)">
      <line x1="0" y1="0" x2="470" y2="0" stroke="#e2e8f0" stroke-width="1"/>
      <text x="0" y="22" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#64748b">Tech Stack:</text>
      <text x="0" y="42" font-family="monospace" font-size="10" fill="#475569">Vue 3.5 | Vue Router 4 | bpmn-js 18 | Lucide Icons</text>
      <text x="0" y="60" font-family="monospace" font-size="10" fill="#475569">Vite 7.3 | Terser | Gzip/Brotli | Node.js 20+/22+</text>
    </g>
  </g>

</svg>